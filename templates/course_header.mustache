{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_ufpel/course_header

    Course header with background image, overlay, and course information.

    Context variables required for this template:
    * courseimage - URL of the course image
    * coursename - Name of the course
    * courseid - ID of the course
    * teachers - Array of teacher objects with id, fullname, profileurl, avatar
    * studentcount - Number of enrolled students
    * startdate - Formatted start date
    * enddate - Formatted end date
    * hasprogress - Boolean indicating if user is a student
    * progress - Progress object with completed, total, percentage (if hasprogress)

    Example context (json):
    {
        "courseimage": "http://example.com/course/image.jpg",
        "coursename": "Introduction to Programming",
        "courseid": "42",
        "teachers": [
            {
                "id": "123",
                "fullname": "John Doe",
                "profileurl": "http://example.com/user/profile.php?id=123",
                "avatar": "<img src='...' />"
            }
        ],
        "studentcount": 45,
        "startdate": "01/01/2025",
        "enddate": "30/06/2025",
        "hasprogress": true,
        "progress": {
            "enabled": true,
            "completed": 15,
            "total": 30,
            "percentage": 50
        }
    }
}}
<div class="ufpel-course-header" style="background-image: url('{{courseimage}}');" data-course-id="{{courseid}}">
    <div class="ufpel-course-header-overlay">
        <div class="ufpel-course-header-content">
            <h1 class="ufpel-course-title">{{coursename}}</h1>
            
            <div class="ufpel-course-meta">
                {{#teachers}}
                <div class="ufpel-course-teachers">
                    {{#teachers}}
                    <div class="ufpel-teacher-item">
                        <a href="{{profileurl}}" class="ufpel-teacher-link">
                            <div class="ufpel-teacher-avatar">{{{avatar}}}</div>
                            <span class="ufpel-teacher-name">{{fullname}}</span>
                        </a>
                    </div>
                    {{/teachers}}
                </div>
                {{/teachers}}
                
                <div class="ufpel-course-info">
                    {{#studentcount}}
                    <div class="ufpel-info-item">
                        <i class="fa fa-users" aria-hidden="true"></i>
                        <span>{{studentcount}} {{#str}}participants{{/str}}</span>
                    </div>
                    {{/studentcount}}
                    
                    {{#startdate}}
                    <div class="ufpel-info-item">
                        <i class="fa fa-calendar-check-o" aria-hidden="true"></i>
                        <span>{{startdate}}</span>
                        {{#enddate}}
                        <span class="ufpel-date-separator">-</span>
                        <span>{{enddate}}</span>
                        {{/enddate}}
                    </div>
                    {{/startdate}}
                </div>
                
                {{#hasprogress}}
                {{#progress.enabled}}
                <div class="ufpel-course-progress">
                    <div class="ufpel-progress-label">
                        <span class="ufpel-progress-text">{{#str}}progress, core_completion{{/str}}</span>
                        <span class="ufpel-progress-stats">{{progress.completed}}/{{progress.total}} ({{progress.percentage}}%)</span>
                    </div>
                    <div class="ufpel-progress-bar-container">
                        <div class="ufpel-progress-bar" style="width: {{progress.percentage}}%;" role="progressbar" aria-valuenow="{{progress.percentage}}" aria-valuemin="0" aria-valuemax="100">
                            <span class="sr-only">{{progress.percentage}}% {{#str}}complete{{/str}}</span>
                        </div>
                    </div>
                </div>
                {{/progress.enabled}}
                {{/hasprogress}}
            </div>
        </div>
    </div>
</div>